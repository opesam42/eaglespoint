{% extends "core/base.html" %}
{% block title %} Password Reset {% endblock title %}
{% block content %}

    <main class="responsive-padding flex flex-col mt-9 justify-center items-center">

        {% if validlink %}
        
            {% if form.errors %}
                <div id="form_errors">
                    {% for key, value in form.errors.items %}
                        <strong>{{ value }}</strong>
                    {% endfor %}
                </div>
                <button type="button" aria-label="Close">
                    <span>&times;</span>
                </button>
            {% endif %}

            <form method="POST" class="w-full lg:max-w-[400px] shadow-xl ring-2 ring-gray-900/5 px-6 pt-10 pb-8 flex flex-col gap-3 lg:gap-4">
                {% csrf_token %}
                <h3 class="text-2xl font-bold mb-1.5">Reset Your Password</h3>

                <div>
                    <label class="label-primary" for="id_new_password1">New Password</label>
                    <input class="input-primary" type="password" name="new_password1" autocomplete="new-password" required id="id_new_password1" placeholder="Enter password"/>
                </div>
                <div>
                    <label class="label-primary" for="id_new_password2">New Password Confirmation</label>
                    <input class="input-primary" type="password" name="new_password2" autocomplete="new-password" required id="id_new_password2" placeholder="Confirm password"/>
                </div>
                {% component "button" html_tag="button" label="Reset Password" type="primary" width="full" function="submit" %} {% endcomponent %}
            </form>

        {% else %}
            <p>The password reset link was invalid, possibly because it has already been used. <a href="{% url 'user:password_reset' %}" class="text-blue-700 underline hover:no-underline">Please request a new password reset.</a></p>
        {% endif %}

    </main>

    
{% endblock content %}
